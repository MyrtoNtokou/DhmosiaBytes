name: Java CI

on: [push]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
        - name: Checkout source code
          uses: actions/checkout@v4
        
        - name: Set up JDK 17
          uses: actions/setup-java@v4
          with:
            java-version: '17'
              
        - name: Compile project
          run: mvn -B compile

        - name: Run tests with coverage
          run: mvn -B test jacoco:report

        - name: SpotBugs
          run: mvn -B spotbugs:check

        - name: Checkstyle
          run: mvn -B checkstyle:check

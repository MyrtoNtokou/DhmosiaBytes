package budgetlogic;

import java.math.BigDecimal;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.function.Function;

/**
 * Provides a predefined allocation mapping used to split ministry totals
 * into specific expense categories. Each ministry has its own mapping.
 *
 * <p>All mappings are based on the original dataset provided for the project.
 * Checkstyle-compatible formatting is used.</p>
 */
public final class AllocationMapping {

    /** Prevent instantiation for utility class. */
    private AllocationMapping() {
        throw new IllegalStateException("Utility class");
    }

    /**
     * Builds the full allocation mapping for ministries.
     *
     * @return a map: ministryName → (expenseCategory → percentage)
     */
    public static Map<String, Map<String, BigDecimal>> build() {

        final Map<String, Map<String, BigDecimal>> all =
                new LinkedHashMap<>();

        // Helper for BigDecimal percentages
        final Function<String, BigDecimal> P =
                s -> new BigDecimal(s).setScale(2);

        /* --------------------------------------------------------------
           1. ΠΡΟΕΔΡΙΑ ΤΗΣ ΔΗΜΟΚΡΑΤΙΑΣ
           -------------------------------------------------------------- */
        all.put("Προεδρία της Δημοκρατίας", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.60"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.40")
        ));

        /* --------------------------------------------------------------
           2. ΒΟΥΛΗ ΤΩΝ ΕΛΛΗΝΩΝ
           -------------------------------------------------------------- */
        all.put("Βουλή των Ελλήνων", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.70"),
            "Αγορές αγαθών και υπηρεσισιών", P.apply("0.25"),
            "Λοιπές δαπάνες", P.apply("0.05")
        ));

        /* --------------------------------------------------------------
           3. ΠΡΟΕΔΡΙΑ ΤΗΣ ΚΥΒΕΡΝΗΣΗΣ
           -------------------------------------------------------------- */
        all.put("Προεδρία της Κυβέρνησης", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.50"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.40"),
            "Λοιπές δαπάνες", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           5. ΥΠΟΥΡΓΕΙΟ ΕΣΩΤΕΡΙΚΩΝ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Εσωτερικών", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.45"),
            "Μεταβιβάσεις", P.apply("0.35"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.15"),
            "Λοιπές δαπάνες", P.apply("0.05")
        ));

        /* --------------------------------------------------------------
           6. ΥΠΟΥΡΓΕΙΟ ΕΞΩΤΕΡΙΚΩΝ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Εξωτερικών", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.55"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.35"),
            "Μεταβιβάσεις", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           7. ΥΠΟΥΡΓΕΙΟ ΕΘΝΙΚΗΣ ΑΜΥΝΑΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Εθνικής Άμυνας", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.30"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.60"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           8. ΥΠΟΥΡΓΕΙΟ ΥΓΕΙΑΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Υγείας", Map.of(
            "Κοινωνικές παροχές", P.apply("0.50"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.35"),
            "Παροχές σε εργαζόμενους", P.apply("0.15")
        ));

        /* --------------------------------------------------------------
           9. ΥΠΟΥΡΓΕΙΟ ΔΙΚΑΙΟΣΥΝΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Δικαιοσύνης", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.60"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.30"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           10. ΥΠΟΥΡΓΕΙΟ ΠΑΙΔΕΙΑΣ, ΘΡΗΣΚΕΥΜΑΤΩΝ ΚΑΙ ΑΘΛΗΤΙΣΜΟΥ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Παιδείας, Θρησκευμάτων και Αθλητισμού", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.70"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.20"),
            "Μεταβιβάσεις", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           11. ΥΠΟΥΡΓΕΙΟ ΠΟΛΙΤΙΣΜΟΥ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Πολιτισμού", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.45"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.45"),
            "Μεταβιβάσεις", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           12. ΥΠΟΥΡΓΕΙΟ ΕΘΝΙΚΗΣ ΟΙΚΟΝΟΜΙΑΣ & ΟΙΚΟΝΟΜΙΚΩΝ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Εθνικής Οικονομίας και Οικονομικών", Map.of(
            "Μεταβιβάσεις", P.apply("0.60"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.25"),
            "Παροχές σε εργαζόμενους", P.apply("0.15")
        ));

        /* --------------------------------------------------------------
           13. ΥΠΟΥΡΓΕΙΟ ΑΓΡΟΤΙΚΗΣ ΑΝΑΠΤΥΞΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Αγροτικής Ανάπτυξης και Τροφίμων", Map.of(
            "Μεταβιβάσεις", P.apply("0.70"),
            "Λοιπές δαπάνες", P.apply("0.20"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           14. ΥΠΟΥΡΓΕΙΟ ΠΕΡΙΒΑΛΛΟΝΤΟΣ & ΕΝΕΡΓΕΙΑΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Περιβάλλοντος και Ενέργειας", Map.of(
            "Μεταβιβάσεις", P.apply("0.50"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.35"),
            "Παροχές σε εργαζόμενους", P.apply("0.15")
        ));

        /* --------------------------------------------------------------
           15. ΥΠΟΥΡΓΕΙΟ ΕΡΓΑΣΙΑΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Εργασίας και Κοινωνικής Ασφάλισης", Map.of(
            "Κοινωνικές παροχές", P.apply("0.80"),
            "Μεταβιβάσεις", P.apply("0.15"),
            "Παροχές σε εργαζόμενους", P.apply("0.05")
        ));

        /* --------------------------------------------------------------
           16. ΥΠΟΥΡΓΕΙΟ ΚΟΙΝΩΝΙΚΗΣ ΣΥΝΟΧΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Κοινωνικής Συνοχής και Οικογένειας", Map.of(
            "Κοινωνικές παροχές", P.apply("0.75"),
            "Μεταβιβάσεις", P.apply("0.20"),
            "Λοιπές δαπάνες", P.apply("0.05")
        ));

        /* --------------------------------------------------------------
           17. ΥΠΟΥΡΓΕΙΟ ΑΝΑΠΤΥΞΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Ανάπτυξης", Map.of(
            "Μεταβιβάσεις", P.apply("0.40"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.40"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.20")
        ));

        /* --------------------------------------------------------------
           18. ΥΠΟΥΡΓΕΙΟ ΥΠΟΔΟΜΩΝ & ΜΕΤΑΦΟΡΩΝ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Υποδομών και Μεταφορών", Map.of(
            "Πάγια περιουσιακά στοιχεία", P.apply("0.60"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.35"),
            "Παροχές σε εργαζόμενους", P.apply("0.05")
        ));

        /* --------------------------------------------------------------
           19. ΥΠΟΥΡΓΕΙΟ ΝΑΥΤΙΛΙΑΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Ναυτιλίας και Νησιωτικής Πολιτικής", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.50"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.40"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           20. ΥΠΟΥΡΓΕΙΟ ΤΟΥΡΙΣΜΟΥ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Τουρισμού", Map.of(
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.50"),
            "Μεταβιβάσεις", P.apply("0.40"),
            "Λοιπές δαπάνες", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           21. ΥΠΟΥΡΓΕΙΟ ΨΗΦΙΑΚΗΣ ΔΙΑΚΥΒΕΡΝΗΣΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Ψηφιακής Διακυβέρνησης", Map.of(
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.60"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.30"),
            "Παροχές σε εργαζόμενους", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           22. ΥΠΟΥΡΓΕΙΟ ΜΕΤΑΝΑΣΤΕΥΣΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Μετανάστευσης και Ασύλου", Map.of(
            "Κοινωνικές παροχές", P.apply("0.40"),
            "Μεταβιβάσεις", P.apply("0.40"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.20")
        ));

        /* --------------------------------------------------------------
           23. ΥΠΟΥΡΓΕΙΟ ΠΡΟΣΤΑΣΙΑΣ ΤΟΥ ΠΟΛΙΤΗ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Προστασίας του Πολίτη", Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.65"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.25"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.10")
        ));

        /* --------------------------------------------------------------
           24. ΥΠΟΥΡΓΕΙΟ ΚΛΙΜΑΤΙΚΗΣ ΚΡΙΣΗΣ
           -------------------------------------------------------------- */
        all.put("Υπουργείο Κλιματικής Κρίσης και Πολιτικής Προστασίας", Map.of(
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.50"),
            "Λοιπές δαπάνες", P.apply("0.25"),
            "Πάγια περιουσιακά στοιχεία", P.apply("0.25")
        ));

        /* --------------------------------------------------------------
           25–32. Αποκεντρωμένες Διοικήσεις (όλες ίδιες)
           -------------------------------------------------------------- */
        final String[] regions = {
            "Αποκεντρωμένη Διοίκηση Αιγαίου",
            "Αποκεντρωμένη Διοίκηση Θεσσαλίας – Στερεάς Ελλάδας",
            "Αποκεντρωμένη Διοίκηση Ηπείρου – Δυτικής",
            "Αποκεντρωμένη Διοίκηση Κρήτης",
            "Αποκεντρωμένη Διοίκηση Μακεδονίας – Θράκης",
            "Αποκεντρωμένη Διοίκηση Πελοποννήσου – Δυτικής",
            "Αποκεντρωμένη Διοίκηση Αττικής",
            "Αποκεντρωμένη Διοίκηση Ανατολικής Μακεδονίας – Θράκης"
        };

        final Map<String, BigDecimal> regionMap = Map.of(
            "Παροχές σε εργαζόμενους", P.apply("0.60"),
            "Αγορές αγαθών και υπηρεσιών", P.apply("0.35"),
            "Λοιπές δαπάνες", P.apply("0.05")
        );

        for (String r : regions) {
            all.put(r, new HashMap<>(regionMap));
        }

        return all;
    }
}


